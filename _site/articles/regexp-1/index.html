<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width initial-scale=1, maximum-scale=1, user-scalable=no">

  <title>正则表达式</title>
  <meta name="description" content="基本的元字符之类的百度谷歌各种正则书都有介绍，就不再重复啦。另外RegExr的cheatsheet也有简要介绍。">

  <link rel="stylesheet" href="/assets/css/highlight.css">
  <link rel="stylesheet" href="/assets/css/main.css">
  <link href='http://fonts.googleapis.com/css?family=Raleway|PT+Serif' rel='stylesheet' type='text/css'>
</head>


<body>
<nav id="site-nav" class=" ">
    <ul>
        <li>
            <a href="/" class="tooltip">
                <span class="iconfont icon-home"></span>
                <span>Home</span>
            </a>

        </li>
        <li>
            <a href="/category/article" class="tooltip">
                <span class="iconfont icon-article"></span>
                <span>Technique</span>
            </a>

        </li>
        <li>
            <a href="/category/life" class="tooltip">
                <span class="iconfont icon-camera"></span>
                <span>Life</span>
            </a>

        </li>
        <li>
            <a href="/about" class="tooltip">
                <span class="iconfont icon-user"></span>
                <span>About me</span>
            </a>

        </li>
    </ul>
</nav>
  <div class="post">
    <div class="wrapper">
      <header class="post-header">
        <h1 class="post-title">正则表达式</h1>
        
        <p class="post-meta">Mar 22, 2015</p>
        
      </header>
      <article class="post-content">
        
    <div class="tag-panel">
      <span class="entry-tags">
          <span style="font-family:pt serif;font-style: italic">Tags:&nbsp;&nbsp;</span>

              
                <a href="/tags/#正则" title="Pages tagged 正则" class="tag">正则</a>
              
                <a href="/tags/#JavaScript" title="Pages tagged JavaScript" class="tag">JavaScript</a>
              

          </span>
    </div>

<div class="post">
  <article class="post-content">
    <p>基本的元字符之类的百度谷歌各种正则书都有介绍，就不再重复啦。另外<a href="http://www.regexr.com/">RegExr</a>的cheatsheet也有简要介绍。</p>

<p>要介绍的是对两个正则的理解。</p>

<h5>1.密码（要求至少8个字符，至少一个数字，至少有一个小写字母和一个大写字母，至少包含一个比如<code>@#%$^</code>的字符，不能包含空白）</h5>

<p>答案是<code>/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#%$^])(?=\S+$).{8,}$/gm</code>。</p>

<p><code>(?=abc)</code>，正向先行断言。自我吐槽一句，“断言”这个词汇硬是理解了半天。不就是“判断的句子”的意思么？所以正向断言就是判断字符串是否满足条件，
但又不消耗字符串的字符。有点像<code>if(abc){}</code>。</p>

<p>因此<code>(?=.*[0-9])</code>就是满足“除换行符以外的其他字符任意个+任意一个数字”这样一个条件。后面4个先行断言也是如此。因此整个正则的意思就是满足这5个
条件的8个以上的任意字符。</p>

<h5>2.千分符</h5>

<p>在一篇介绍正则的文章中看到的这个例子。有意思的是，当初我看不懂那道正则，然后Google了一下相关问题，结果找到了另外一种解法。等我理解完这种解法
后，我才发现Google到的那个正则要比那篇文章中的正则要难理解得多。</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">    <span class="kd">function</span> <span class="nx">putComma</span><span class="p">(</span><span class="nx">price</span><span class="p">){</span>
      <span class="k">return</span> <span class="nx">price</span><span class="p">.</span><span class="nx">toString</span><span class="p">().</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\B(?=(?:\d{3})+(?!\d))/g</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">);</span>
      <span class="p">}</span>
</code></pre></div>
<p><code>(?!abc)</code>，负向先行断言。相当于<code>if(!abc){}</code>。所以<code>(?=(?:\d{3})+(?!\d))</code>的意思就是数字的数目要成3的倍数，后面不可有额外的数字。</p>

<p>用一张图来解释就是这样的：</p>

<figure>
    <img src="http://7sbqpj.com1.z0.glb.clouddn.com/regexp.png" alt="regexp">
    <figcaption>上述正则的图解</figcaption>
</figure>

  </article>
  <!-- 多说评论框 -->

<div class="ds-thread" data-thread-key="10006"
     data-title="正则表达式 - 漫漫前端路"
     data-url="//articles/regexp-1/">
</div>

</div>

      </article>
    </div>
  </div>
  <footer class="site-footer">

  <div class="wrapper">

    <span>&copy; 2015 . Powered by
      <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a>.
    </span>


  </div>

</footer>
<!-- Baidu Analysis -->
<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?c8cbf7f57c14536e175a61dc20887032";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>
<!-- Google Analysis -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-58181454-1', 'auto');
  ga('send', 'pageview');

</script>
<script src="/assets/js/main.js" type="text/javascript"></script>

  <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
  
  <script type="text/javascript">
    var duoshuoQuery = {short_name:"polly343900"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
  
</body>

</html>

